{
  "routes": [
    {
      "method": "GET",
      "path": "/recipes",
      "handler": "recipe.find",
      "config": {
        "policies": ["global::isAuthenticated", "hasCurrentUserAccessToTargetCookbook"]
      }
    },
    {
      "method": "GET",
      "path": "/recipes/:id",
      "handler": "recipe.findOne",
      "config": {
        "policies": ["global::isAuthenticated", "hasCurrentUserAccessToCookbook"]
      }
    },
    {
      "method": "POST",
      "path": "/recipes",
      "handler": "recipe.create",
      "config": {
        "policies": ["global::isAuthenticated", "validateRecipeInput"]
      }
    },
    {
      "method": "PUT",
      "path": "/recipes/:id",
      "handler": "recipe.update",
      "config": {
        "policies": ["global::isAuthenticated", "hasCurrentUserAccessToCookbook", "validateRecipeInput"]
      }
    },
    {
      "method": "DELETE",
      "path": "/recipes/:id",
      "handler": "recipe.delete",
      "config": {
        "policies": ["global::isAuthenticated", "hasCurrentUserAccessToCookbook"]
      }
    }
  ]
}
