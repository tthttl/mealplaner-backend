{
  "routes": [
    {
      "method": "GET",
      "path": "/shopping-lists",
      "handler": "shoppingList.find",
      "config": {
        "policies": ["global::isAuthenticated", "global::isTargetUserLoggedIn"]
      }
    },
    {
      "method": "GET",
      "path": "/shopping-lists/:id",
      "handler": "shoppingList.findOne",
      "config": {
        "policies": ["global::isAuthenticated", "isCurrentUserAllowedToAccessShoppinglist"]
      }
    },
    {
      "method": "POST",
      "path": "/shopping-lists",
      "handler": "shoppingList.create",
      "config": {
        "policies": ["global::isAuthenticated", "global::validateForJsonAndOwnerAndTitle"]
      }
    },
    {
      "method": "PUT",
      "path": "/shopping-lists/:id",
      "handler": "shoppingList.update",
      "config": {
        "policies": [
          "global::isAuthenticated",
          "isCurrentUserOwnerOfShoppingList",
          "global::validateForJsonAndOwnerAndTitle"]
      }
    },
    {
      "method": "DELETE",
      "path": "/shopping-lists/:id",
      "handler": "shoppingList.delete",
      "config": {
        "policies": ["global::isAuthenticated", "isCurrentUserOwnerOfShoppingList", "isNotLastShoppingListOfOwner"]
      }
    }
  ]
}
